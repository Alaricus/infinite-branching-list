(this["webpackJsonpinfinite-branching-list"]=this["webpackJsonpinfinite-branching-list"]||[]).push([[0],{14:function(e,t,c){},15:function(e,t,c){},16:function(e,t,c){"use strict";c.r(t);var n=c(0),i=c(1),a=c.n(i),r=c(8),o=c.n(r),d=(c(14),c(2)),s={name:"Guppo",text:"zo toxt wholo zaxati",records:[{id:"5e569264-5d47-46b7-a09e-3e952eb3a7be",name:"Nopti",text:"axap rottols el kleu"},{id:"852c92d5-f01c-4831-9c0a-81e35c41e4a4",name:"Kador",text:"eb rottols zaxat wha"},{id:"34bb8d1a-1016-4fdd-a631-dfe74e2df9f2",name:"Vaali",text:"simiraxal bunnd iens"},{id:"3777af59-34dd-44b6-8490-3c9645b28304",name:"Apjer",text:"jed ug gned axarr vupp",records:[{id:"8ee66589-1d49-4d30-a33c-b8357b303b33",name:"Suba",text:"vaxacle pi zon pum roax",records:[{id:"4c294c77-bdc5-4039-b6ab-8cbfdf26e071",name:"Fepto",text:"haxavo robt dit din"},{id:"74233e72-593e-45be-b012-733133d20752",name:"Sinri",text:"revorupp eliginaxar"}]},{id:"74233e72-593e-45be-b012-733133d20752",name:"Gogir",text:"kopeg masa poki gro"}]},{id:"1eb3ba42-302e-4053-95ee-4c7cbfb62155",name:"Rosta",text:"focemo pit skophold eno"},{id:"483c45ec-4ecc-4859-a821-8fb83674e8ef",name:"Bogin",text:"ir joow pit chaxato vuc"},{id:"e57ae50f-7bdf-4f25-afd4-643766e7fa7e",name:"Kokes",text:"aclept zo onkilo axappr"}]},b=Object(i.createContext)(),l=c(5),u=c(3),j=c(18),x=function(e){var t=e.ids,c=void 0===t?[]:t,a=e.closeModal,r=Object(i.useContext)(b).dispatch,o=Object(i.useState)(""),s=Object(d.a)(o,2),l=s[0],u=s[1],x=Object(i.useState)(""),f=Object(d.a)(x,2),p=f[0],O=f[1];return Object(n.jsx)("div",{className:"modal",onClick:a,children:Object(n.jsxs)("dialog",{className:"form",onClick:function(e){return e.stopPropagation()},children:[Object(n.jsx)("h3",{children:"Insert a Record"}),Object(n.jsxs)("div",{className:"row",children:["name:",Object(n.jsx)("input",{type:"text",maxLength:"5",value:l,onChange:function(e){u(e.target.value)}})]}),Object(n.jsxs)("div",{className:"row",children:["text:",Object(n.jsx)("input",{type:"text",maxLength:"19",value:p,onChange:function(e){O(e.target.value)}})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("button",{type:"button",onClick:a,className:"cancel",children:"cancel"}),Object(n.jsx)("button",{type:"button",onClick:function(){r({type:"add",payload:{id:Object(j.a)(),name:l,text:p,ids:c}}),a()},className:"submit",disabled:0===l.length||0===p.length,children:"insert"})]})]})})},f=c.p+"static/media/folder-plus.7b9bb2a9.svg",p=c.p+"static/media/circle-x.386ec30d.svg",O=c.p+"static/media/circle-check.d40dfd9d.svg",h=c.p+"static/media/circle-check-inactive.9d4db9cf.svg",m=function(e){var t=e.ids,c=Object(i.useContext)(b),a=c.state,r=c.dispatch,o=Object(i.useState)((function(){var e=a;return t.forEach((function(t){e=e.records.find((function(e){return e.id===t}))})),e})),s=Object(d.a)(o,2),l=s[0],j=s[1],m=Object(i.useState)(!1),v=Object(d.a)(m,2),g=v[0],y=v[1],k=Object(i.useState)(!1),N=Object(d.a)(k,2),S=N[0],C=N[1];return Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("input",{type:"text",value:null===l||void 0===l?void 0:l.name,onChange:function(e){j(Object(u.a)(Object(u.a)({},l),{},{name:e.target.value})),y(!0)}}),Object(n.jsx)("button",{type:"button",onClick:function(){r({type:"update",payload:{record:l,ids:t}}),y(!1)},disabled:!g,children:g?Object(n.jsx)("img",{src:O,alt:"update"}):Object(n.jsx)("img",{src:h,alt:"update"})}),Object(n.jsx)("button",{type:"button",onClick:function(){r({type:"remove",payload:t})},children:Object(n.jsx)("img",{src:p,alt:"delete"})}),Object(n.jsx)("button",{type:"button",onClick:function(){return C(!0)},children:Object(n.jsx)("img",{src:f,alt:"insert"})}),S&&Object(n.jsx)(x,{closeModal:function(){return C(!1)},ids:t})]})},v=c.p+"static/media/folder-x.09c93802.svg",g=c.p+"static/media/circle-plus.36990e9b.svg",y=function e(t){var c,a=t.ids,r=Object(i.useContext)(b),o=r.state,s=r.dispatch,u=Object(i.useState)(!1),j=Object(d.a)(u,2),f=j[0],p=j[1],O=Object(i.useCallback)((function(){var e=o;return a.forEach((function(t){e=e.records.find((function(e){return e.id===t}))})),e}),[a,o]),h=Object(i.useState)(O()),y=Object(d.a)(h,2),k=y[0],N=y[1];return Object(i.useEffect)((function(){N(O())}),[N,O]),Object(n.jsxs)("div",{className:"group",children:[Object(n.jsxs)("div",{className:"header",children:[Object(n.jsx)("h3",{children:"Group: ".concat(null===k||void 0===k?void 0:k.name)}),Object(n.jsx)("button",{type:"button",onClick:function(){s({type:"remove",payload:a})},children:Object(n.jsx)("img",{src:v,alt:"delete group"})})]}),null===(c=k.records)||void 0===c?void 0:c.map((function(t){var c;return(null===(c=t.records)||void 0===c?void 0:c.length)?Object(n.jsx)("div",{children:Object(n.jsx)(e,{ids:[].concat(Object(l.a)(a),[t.id])})},[].concat(Object(l.a)(a),[t.id,"-g"]).toString()):Object(n.jsx)(m,{ids:[].concat(Object(l.a)(a),[t.id])},[].concat(Object(l.a)(a),[t.id,"-p"]).toString())})),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("button",{onClick:function(){return p(!0)},type:"button",children:Object(n.jsx)("img",{src:g,alt:"add another"})})}),f&&Object(n.jsx)(x,{closeModal:function(){return p(!1)},ids:a})]})},k=function(e,t){var c={add:function(){var c=JSON.parse(JSON.stringify(e.records)),n=t.payload,i=n.ids,a=n.id,r=n.name,o=n.text,d=c;return i.forEach((function(e,t){var c,n=d[d.findIndex((function(t){return t.id===e}))];d=(null===(c=n.records)||void 0===c?void 0:c.length)?n.records:n,t===i.length-1&&(Array.isArray(d)?d.push({id:a,name:r,text:o}):d.records=[{id:a,name:r,text:o}])})),i.length||d.push({id:a,name:r,text:o}),Object(u.a)(Object(u.a)({},e),{},{records:c})},remove:function(){var c=JSON.parse(JSON.stringify(e.records)),n=t.payload,i=c;return n.forEach((function(e,t){t<n.length-1?i=i[i.findIndex((function(t){return t.id===e}))].records:i.splice(i.findIndex((function(t){return t.id===e})),1)})),Object(u.a)(Object(u.a)({},e),{},{records:c})},update:function(){var c=JSON.parse(JSON.stringify(e.records)),n=t.payload.ids,i=c;return n.forEach((function(e,c){c<n.length-1?i=i[i.findIndex((function(t){return t.id===e}))].records:i[i.findIndex((function(t){return t.id===e}))]=t.payload.record})),Object(u.a)(Object(u.a)({},e),{},{records:c})}};return c[t.type]?c[t.type]():e},N=(c(15),function(){var e,t=Object(i.useReducer)(k,s),c=Object(d.a)(t,2),a=c[0],r=c[1],o=Object(i.useState)(!1),l=Object(d.a)(o,2),u=l[0],j=l[1];return Object(n.jsxs)(b.Provider,{value:{state:a,dispatch:r},children:[Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)("h1",{children:"Infinite Branching List"}),null===(e=a.records)||void 0===e?void 0:e.map((function(e){var t;return(null===(t=e.records)||void 0===t?void 0:t.length)?Object(n.jsx)(y,{ids:[e.id]},e.id):Object(n.jsx)(m,{ids:[e.id]},e.id)})),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("button",{onClick:function(){return j(!0)},type:"button",children:Object(n.jsx)("img",{src:g,alt:"add another"})})}),u&&Object(n.jsx)(x,{closeModal:function(){return j(!1)}})]}),Object(n.jsxs)("p",{children:["icons by"," ",Object(n.jsx)("a",{href:"https://tablericons.com/",children:"tablericons"}),", emoji favicon by"," ",Object(n.jsx)("a",{href:"https://favicon.io/emoji-favicons/",children:"favicon.io"})]}),Object(n.jsxs)("a",{href:"https://github.com/Alaricus/infinite-branching-list",className:"tag",children:["Have some input?",Object(n.jsx)("br",{}),"View project on GitHub"]})]})});o.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(N,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.c5df3e7f.chunk.js.map