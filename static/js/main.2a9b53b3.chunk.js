(this["webpackJsonpinfinite-branching-list"]=this["webpackJsonpinfinite-branching-list"]||[]).push([[0],[,,,,,,function(e,t,a){e.exports=a.p+"static/media/circle-plus.bc882cc9.svg"},,,function(e,t,a){e.exports=a.p+"static/media/folder-plus.4ad38271.svg"},function(e,t,a){e.exports=a.p+"static/media/circle-x.6781393f.svg"},function(e,t,a){e.exports=a.p+"static/media/circle-check.ad6c0d3a.svg"},function(e,t,a){e.exports=a.p+"static/media/circle-check-inactive.c7c034d6.svg"},function(e,t,a){e.exports=a.p+"static/media/folder-x.863626d9.svg"},function(e,t,a){e.exports=a(21)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(8),i=a.n(r),o=(a(19),a(1)),d={name:"Guppo",text:"zo toxt wholo zaxati",records:[{id:"5e569264-5d47-46b7-a09e-3e952eb3a7be",name:"Nopti",text:"axap rottols el kleu"},{id:"852c92d5-f01c-4831-9c0a-81e35c41e4a4",name:"Kador",text:"eb rottols zaxat wha"},{id:"34bb8d1a-1016-4fdd-a631-dfe74e2df9f2",name:"Vaali",text:"simiraxal bunnd iens"},{id:"3777af59-34dd-44b6-8490-3c9645b28304",name:"Apjer",text:"jed ug gned axarr vupp",records:[{id:"8ee66589-1d49-4d30-a33c-b8357b303b33",name:"Suba",text:"vaxacle pi zon pum roax",records:[{id:"4c294c77-bdc5-4039-b6ab-8cbfdf26e071",name:"Fepto",text:"haxavo robt dit din"},{id:"74233e72-593e-45be-b012-733133d20752",name:"Sinri",text:"revorupp eliginaxar"}]},{id:"74233e72-593e-45be-b012-733133d20752",name:"Gogir",text:"kopeg masa poki gro"}]},{id:"1eb3ba42-302e-4053-95ee-4c7cbfb62155",name:"Rosta",text:"focemo pit skophold eno"},{id:"483c45ec-4ecc-4859-a821-8fb83674e8ef",name:"Bogin",text:"ir joow pit chaxato vuc"},{id:"e57ae50f-7bdf-4f25-afd4-643766e7fa7e",name:"Kokes",text:"aclept zo onkilo axappr"}]},l=Object(n.createContext)(),u=a(4),s=a(2),m=a(23),p=function(e){var t=e.ids,a=void 0===t?[]:t,r=e.closeModal,i=Object(n.useContext)(l).dispatch,d=Object(n.useState)(""),u=Object(o.a)(d,2),s=u[0],p=u[1],f=Object(n.useState)(""),b=Object(o.a)(f,2),v=b[0],x=b[1];return c.a.createElement("div",{className:"modal",onClick:r},c.a.createElement("dialog",{className:"form",onClick:function(e){return e.stopPropagation()}},c.a.createElement("h3",null,"Insert a Record"),c.a.createElement("div",{className:"row"},"name:",c.a.createElement("input",{type:"text",maxLength:"5",value:s,onChange:function(e){p(e.target.value)}})),c.a.createElement("div",{className:"row"},"text:",c.a.createElement("input",{type:"text",maxLength:"19",value:v,onChange:function(e){x(e.target.value)}})),c.a.createElement("div",{className:"row"},c.a.createElement("button",{type:"button",onClick:r,className:"cancel"},"cancel"),c.a.createElement("button",{type:"button",onClick:function(){i({type:"add",payload:{id:Object(m.a)(),name:s,text:v,ids:a}}),r()},className:"submit",disabled:0===s.length||0===v.length},"insert"))))},f=a(9),b=a.n(f),v=a(10),x=a.n(v),g=a(11),E=a.n(g),h=a(12),O=a.n(h),j=function(e){var t=e.ids,a=Object(n.useContext)(l),r=a.state,i=a.dispatch,d=Object(n.useState)((function(){var e=r;return t.forEach((function(t){e=e.records.find((function(e){return e.id===t}))})),e})),u=Object(o.a)(d,2),m=u[0],f=u[1],v=Object(n.useState)(!1),g=Object(o.a)(v,2),h=g[0],j=g[1],y=Object(n.useState)(!1),k=Object(o.a)(y,2),N=k[0],S=k[1];return c.a.createElement("div",{className:"row"},c.a.createElement("input",{type:"text",value:null===m||void 0===m?void 0:m.name,onChange:function(e){f(Object(s.a)(Object(s.a)({},m),{},{name:e.target.value})),j(!0)}}),c.a.createElement("button",{type:"button",onClick:function(){i({type:"update",payload:{record:m,ids:t}}),j(!1)},disabled:!h},h?c.a.createElement("img",{src:E.a,alt:"update"}):c.a.createElement("img",{src:O.a,alt:"update"})),c.a.createElement("button",{type:"button",onClick:function(){i({type:"remove",payload:t})}},c.a.createElement("img",{src:x.a,alt:"delete"})),c.a.createElement("button",{type:"button",onClick:function(){return S(!0)}},c.a.createElement("img",{src:b.a,alt:"insert"})),N&&c.a.createElement(p,{closeModal:function(){return S(!1)},ids:t}))},y=a(13),k=a.n(y),N=a(6),S=a.n(N),C=function e(t){var a,r=t.ids,i=Object(n.useContext)(l),d=i.state,s=i.dispatch,m=Object(n.useState)(!1),f=Object(o.a)(m,2),b=f[0],v=f[1],x=Object(n.useCallback)((function(){var e=d;return r.forEach((function(t){e=e.records.find((function(e){return e.id===t}))})),e}),[r,d]),g=Object(n.useState)(x()),E=Object(o.a)(g,2),h=E[0],O=E[1];return Object(n.useEffect)((function(){O(x())}),[O,x]),c.a.createElement("div",{className:"group"},c.a.createElement("div",{className:"header"},c.a.createElement("h3",null,"Group: ".concat(null===h||void 0===h?void 0:h.name)),c.a.createElement("button",{type:"button",onClick:function(){s({type:"remove",payload:r})}},c.a.createElement("img",{src:k.a,alt:"delete group"}))),null===(a=h.records)||void 0===a?void 0:a.map((function(t){var a;return(null===(a=t.records)||void 0===a?void 0:a.length)?c.a.createElement("div",{key:[].concat(Object(u.a)(r),[t.id,"-g"]).toString()},c.a.createElement(e,{ids:[].concat(Object(u.a)(r),[t.id])})):c.a.createElement(j,{ids:[].concat(Object(u.a)(r),[t.id]),key:[].concat(Object(u.a)(r),[t.id,"-p"]).toString()})})),c.a.createElement("div",{className:"row"},c.a.createElement("button",{onClick:function(){return v(!0)},type:"button"},c.a.createElement("img",{src:S.a,alt:"add another"}))),b&&c.a.createElement(p,{closeModal:function(){return v(!1)},ids:r}))},w=function(e,t){var a={add:function(){var a=JSON.parse(JSON.stringify(e.records)),n=t.payload,c=n.ids,r=n.id,i=n.name,o=n.text,d=a;return c.forEach((function(e,t){var a,n=d[d.findIndex((function(t){return t.id===e}))];d=(null===(a=n.records)||void 0===a?void 0:a.length)?n.records:n,t===c.length-1&&(Array.isArray(d)?d.push({id:r,name:i,text:o}):d.records=[{id:r,name:i,text:o}])})),c.length||d.push({id:r,name:i,text:o}),Object(s.a)(Object(s.a)({},e),{},{records:a})},remove:function(){var a=JSON.parse(JSON.stringify(e.records)),n=t.payload,c=a;return n.forEach((function(e,t){t<n.length-1?c=c[c.findIndex((function(t){return t.id===e}))].records:c.splice(c.findIndex((function(t){return t.id===e})),1)})),Object(s.a)(Object(s.a)({},e),{},{records:a})},update:function(){var a=JSON.parse(JSON.stringify(e.records)),n=t.payload.ids,c=a;return n.forEach((function(e,a){a<n.length-1?c=c[c.findIndex((function(t){return t.id===e}))].records:c[c.findIndex((function(t){return t.id===e}))]=t.payload.record})),Object(s.a)(Object(s.a)({},e),{},{records:a})},insert:function(){}};return a[t.type]?a[t.type]():e},I=(a(20),function(){var e,t=Object(n.useReducer)(w,d),a=Object(o.a)(t,2),r=a[0],i=a[1],u=Object(n.useState)(!1),s=Object(o.a)(u,2),m=s[0],f=s[1];return c.a.createElement(l.Provider,{value:{state:r,dispatch:i}},c.a.createElement("div",{className:"App"},c.a.createElement("h1",null,"Infinite Branching List"),null===(e=r.records)||void 0===e?void 0:e.map((function(e){var t;return(null===(t=e.records)||void 0===t?void 0:t.length)?c.a.createElement(C,{ids:[e.id],key:e.id}):c.a.createElement(j,{ids:[e.id],key:e.id})})),c.a.createElement("div",{className:"row"},c.a.createElement("button",{onClick:function(){return f(!0)},type:"button"},c.a.createElement("img",{src:S.a,alt:"add another"}))),m&&c.a.createElement(p,{closeModal:function(){return f(!1)}})))});i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(I,null)),document.getElementById("root"))}],[[14,1,2]]]);
//# sourceMappingURL=main.2a9b53b3.chunk.js.map